"use client"
import{curveNatural as u}from"@visx/curve";import{LinearGradient as f}from"@visx/gradient";import{Group as k}from"@visx/group";import{ParentSize as A}from"@visx/responsive";import{scaleLinear as M,scaleUtc as v}from"@visx/scale";import{Area as C,AreaClosed as b}from"@visx/shape";import{motion as d}from"framer-motion";import{useMemo as g}from"react";import{jsx as r,jsxs as s}from"react/jsx-runtime";function L(t){return r(A,{className:"relative",children:({width:o,height:i})=>o>0&&i>0&&r(D,{...{width:o,height:i,...t}})})}var a={top:8,right:2,bottom:2,left:2};function D({data:t,width:o,height:i}){let c=g(()=>t.map(({date:e})=>({date:e,value:0})),[t]),{yScale:n,xScale:l}=g(()=>{let e=t.map(({value:m})=>m),h=Math.max(...e),p=t.map(({date:m})=>m.getTime()),x=new Date(Math.min(...p)),y=new Date(Math.max(...p));return{yScale:M({domain:[-2,Math.max(h,2)],range:[i-a.top-a.bottom,0],nice:!0,clamp:!0}),xScale:v({domain:[x,y],range:[0,o-a.left-a.right],nice:!0})}},[t,i,o]);return s("svg",{width:o,height:i,children:[s("defs",{children:[r(f,{id:"color-gradient",from:"#7D3AEC",to:"#DA2778",x1:0,x2:o-a.left-a.right,gradientUnits:"userSpaceOnUse"}),r(f,{id:"mask-gradient",from:"white",to:"white",fromOpacity:.3,toOpacity:0,x1:0,x2:0,y1:0,y2:1}),r("mask",{id:"mask",maskContentUnits:"objectBoundingBox",children:r("rect",{width:"1",height:"1",fill:"url(#mask-gradient)"})})]}),s(k,{left:a.left,top:a.top,children:[r(C,{data:t,x:({date:e})=>l(e),y:({value:e})=>n(e)??0,curve:u,children:({path:e})=>r(d.path,{initial:{d:e(c)||"",opacity:0},animate:{d:e(t)||"",opacity:1},strokeWidth:1.5,stroke:"url(#color-gradient)"})}),r(b,{data:t,x:({date:e})=>l(e),y:({value:e})=>n(e)??0,yScale:n,curve:u,children:({path:e})=>r(d.path,{initial:{d:e(c)||"",opacity:0},animate:{d:e(t)||"",opacity:1},fill:"url(#color-gradient)",mask:"url(#mask)"})})]})]},t.length)}export{L as a};
