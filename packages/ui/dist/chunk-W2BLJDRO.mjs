"use client"
import{j as h}from"./chunk-ZLUU5SZU.mjs";import{q as p}from"./chunk-OQCPKGEH.mjs";import{cva as E}from"class-variance-authority";import k from"embla-carousel-autoplay";import T from"embla-carousel-react";import{motion as L}from"framer-motion";import{ArrowLeft as D,ArrowRight as H,ChevronLeft as M,ChevronRight as I}from"lucide-react";import*as e from"react";import{jsx as r,jsxs as C}from"react/jsx-runtime";var w=2e3,S=e.createContext(null);function b(){let t=e.useContext(S);if(!t)throw new Error("useCarousel must be used within a <Carousel />");return t}function W(){let{api:t}=b(),[l,s]=e.useState(0),o=e.useCallback(c=>s((c==null?void 0:c.selectedScrollSnap())??0),[]);return e.useEffect(()=>{!t||(o(t),t.on("reInit",o),t.on("select",o))},[t,o]),l}var z=e.forwardRef(({orientation:t="horizontal",opts:l,setApi:s,autoplay:o,plugins:c,className:d,children:n,...i},y)=>{let[x,a]=T({...l,axis:t==="horizontal"?"x":"y"},[...o?[k(typeof o=="object"?o:{delay:w})]:[],...c||[]]),[N,v]=e.useState(!1),[R,g]=e.useState(!1),u=e.useCallback(f=>{!f||(v(f.canScrollPrev()),g(f.canScrollNext()))},[]),m=e.useCallback(()=>{a==null||a.scrollPrev()},[a]),P=e.useCallback(()=>{a==null||a.scrollNext()},[a]),A=e.useCallback(f=>{f.key==="ArrowLeft"?(f.preventDefault(),m()):f.key==="ArrowRight"&&(f.preventDefault(),P())},[m,P]);return e.useEffect(()=>{!a||!s||s(a)},[a,s]),e.useEffect(()=>{if(!!a)return u(a),a.on("reInit",u),a.on("select",u),()=>{a==null||a.off("select",u)}},[a,u]),r(S.Provider,{value:{carouselRef:x,api:a,opts:l,orientation:t||((l==null?void 0:l.axis)==="y"?"vertical":"horizontal"),scrollPrev:m,scrollNext:P,canScrollPrev:N,canScrollNext:R},children:r("div",{ref:y,onKeyDownCapture:A,className:p("relative",d),role:"region","aria-roledescription":"carousel",...i,children:n})})});z.displayName="Carousel";var U=e.forwardRef(({className:t,...l},s)=>{let{carouselRef:o,orientation:c}=b();return r("div",{ref:o,className:"overflow-hidden",children:r("div",{ref:s,className:p("flex",c==="horizontal"?"-ml-4":"-mt-4 flex-col",t),...l})})});U.displayName="CarouselContent";var B=e.forwardRef(({className:t,...l},s)=>{let{orientation:o}=b();return r("div",{ref:s,role:"group","aria-roledescription":"slide",className:p("min-w-0 shrink-0 grow-0 basis-full",o==="horizontal"?"pl-4":"pt-4",t),...l})});B.displayName="CarouselItem";var O=e.forwardRef(({className:t,...l},s)=>{let{orientation:o,scrollPrev:c,canScrollPrev:d}=b();return C("button",{ref:s,className:p("absolute",o==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",h({variant:"secondary",className:"p-2"}),t),disabled:!d,onClick:c,...l,children:[r(D,{className:"h-4 w-4"}),r("span",{className:"sr-only",children:"Previous slide"})]})});O.displayName="CarouselPrevious";var V=e.forwardRef(({className:t,...l},s)=>{let{orientation:o,scrollNext:c,canScrollNext:d}=b();return C("button",{ref:s,className:p("absolute",o==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",h({variant:"secondary",className:"p-2"}),t),disabled:!d,onClick:c,...l,children:[r(H,{className:"h-4 w-4"}),r("span",{className:"sr-only",children:"Next slide"})]})});V.displayName="CarouselNext";var K=E("flex items-center justify-center gap-3 sm:gap-6",{variants:{variant:{simple:"relative",floating:"absolute bottom-4 left-1/2 -translate-x-1/2 rounded-full border border-gray-800/10 bg-white sm:bottom-6 "}}}),X=({variant:t="simple",className:l})=>{var g;let{scrollNext:s,scrollPrev:o,canScrollNext:c,canScrollPrev:d,api:n}=b(),i=(g=n==null?void 0:n.plugins())==null?void 0:g.autoplay,[y,x]=e.useState(0),[a,N]=e.useState(!1),v=e.useCallback(u=>{x((u==null?void 0:u.selectedScrollSnap())??0)},[]),R=e.useCallback(u=>()=>{i&&i.isPlaying()&&i.stop(),u()},[i]);return e.useEffect(()=>{!n||(v(n),N((i==null?void 0:i.isPlaying())??!1),n.on("reInit",v),n.on("select",v),n.on("autoplay:play",()=>N(!0)),n.on("autoplay:stop",()=>N(!1)))},[n,i,v]),C("div",{className:p(K({variant:t}),l),children:[t!=="simple"&&C("button",{className:"cursor-pointer rounded-full p-2 hover:bg-gray-50 active:bg-gray-100",disabled:!d,onClick:R(o),children:[r(M,{className:"h-4 w-4"}),r("span",{className:"sr-only",children:"Previous slide"})]}),n!=null&&r("div",{className:"flex items-center gap-1",children:n.slideNodes().map((u,m)=>C("button",{onClick:R(()=>n.scrollTo(m)),className:"rounded-full p-0.5 hover:bg-gray-100 active:bg-gray-200 sm:p-1.5",children:[r("div",{className:p("relative isolate h-1.5 w-1.5 overflow-hidden rounded-full transition-all",m===y?"bg-black":"bg-black/20",a&&m===y&&"w-6 bg-black/20"),children:a&&m===y&&r(L.div,{initial:{x:"-100%"},animate:{x:0},transition:{type:"tween",duration:((i==null?void 0:i.options.delay)??w)/1e3},className:"animate-fill-width h-full w-full rounded-full bg-black"})}),C("span",{className:"sr-only",children:["Slide ",m+1]})]},m))}),t!=="simple"&&C("button",{className:"cursor-pointer rounded-full p-2 hover:bg-gray-50 active:bg-gray-100",disabled:!c,onClick:R(s),children:[r(I,{className:"h-4 w-4"}),r("span",{className:"sr-only",children:"Next slide"})]})]})};export{w as a,b,W as c,z as d,U as e,B as f,O as g,V as h,X as i};
