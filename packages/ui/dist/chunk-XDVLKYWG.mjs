"use client"
import{useEffect as b,useState as f}from"react";function g(r,l={}){let{root:e,defaultValue:u}=l,[d,w]=f(u??!1);return b(()=>{let t=()=>{let c=r.current;if(!c)return;let s=e==null?void 0:e.current,i=c.getBoundingClientRect(),o=s?s.getBoundingClientRect():{top:0,left:0,bottom:window.innerHeight,right:window.innerWidth};w(i.top<o.bottom&&i.bottom>o.top&&i.left<o.right&&i.right>o.left)};((e==null?void 0:e.current)||window).addEventListener("scroll",t),window.addEventListener("resize",t);let n=null;return r.current&&(n=new IntersectionObserver(t),n.observe(r.current)),t(),()=>{((e==null?void 0:e.current)||window).removeEventListener("scroll",t),window.removeEventListener("resize",t),n==null||n.disconnect()}},[r,e]),d}export{g as a};
